<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Leshiy-AI Ecosystem</title>
    <script>
      (function handleVKAuth() {
          // Проверяем наличие параметров после решетки (Implicit Flow)
          const hash = window.location.hash.substring(1);
          if (hash) {
              const params = new URLSearchParams(hash);
              const userId = params.get('user_id');
              
              if (userId) {
                  localStorage.setItem('vk_user_id', userId);
                  // Очищаем URL, чтобы при обновлении страницы всё было чисто
                  window.history.replaceState({}, document.title, window.location.pathname);
                  console.log("✅ VK ID сохранен:", userId);
              }
          }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <div id="vk_auth_container" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:10000; justify-content:center; align-items:center;"></div>
    <script src="https://unpkg.com/@vkid/sdk@<3.0.0/dist-sdk/umd/index.js"></script>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
